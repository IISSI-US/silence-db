@startuml grados-dc

class Grado {
    nombre: String
    duracionAños: Natural
    créditos: Natural
}

class Asignatura {
    nombre: String
    acrónimo: String
    créditos: Real
    curso: Natural
    tipo: TipoAsignatura
}

class Grupo {
    nombre: String
    actividad: TipoActividad
    añoAcadémico: Natural
}

class Alumno {
    métodoAcceso: MétodoAcceso
    dni: String
    nombre: String
    apellidos: String
    fechaNacimiento: Fecha
    email: String
}

class Nota {
    valor: Real
    convocatoria: Convocatoria
    esMH: Boolean
}

enum TipoAsignatura <<Enumerado>>{
    FormaciónBasicá
    Obligatoria
    Optativa
}

enum TipoActividad <<Enumerado>>{
    Teoría
    Laboratorio
}

enum Convocatoria <<Enumerado>>{
    Primera
    Segunda
    Tercera
    Extraordinaria
}

enum MétodoAcceso <<Enumerado>>{
    Selectividad
    Ciclo
    Mayor
    Titulado
    Extranjero
}


Grado "1" -- "*" Asignatura : impartidaEn >
Asignatura  *-- "1..*" Grupo 
Alumno "*" -- "*" Grupo : perteneceA
Alumno "1" -- "*" Nota : obtiene
Grupo "1" -- "*" Nota : obtenidaEn <
TipoAsignatura -d[hidden]- TipoActividad
TipoActividad -r[hidden]- Convocatoria
Convocatoria -u[hidden]- MétodoAcceso

'Agregamos restricciones al modelo
note right of Grado
     Los Grados pueden tener una carga en créditos
     de 180 ECTS (3 años), 240 ECTS (4 años), 
     300 ECTS (5 años) o 360 ECTS (6 años).
end note

note right of Nota
    - El valor de la nota está comprendido 
      entre 0 y 10.
    - Para obtener MH el valor de la nota 
      debe ser superior a 9.
    - No puede tener más de un 5% del total 
      de los estudiantes de una asignatura con MH.
    - La nota se obtiene sobre 10 en cada asignatura 
      antes de aplicar posibles ponderaciones.
end note

note right of Alumno
    - No puede matricularse en más de 90 créditos
      o menos de 30.
    - Debe tener más de 16 años.
    - De cada asignatura, no puede haber más de un
      grupo de teoría y dos de laboratorio.
    - No puede pedir una cita si tiene otra 
    cita pendiente.
end note

@enduml
