@startuml grados-dc

hide circle
hide empty members

class Grado {
    nombre: String
    años: Natural
}

class Asignatura {
    nombre: String
    acrónimo: String
    créditos: Integer
    curso: Integer
    tipo: TipoAsignatura
}

class Grupo {
    nombre: String
    actividad: TipoActividad
    añoAcadémico: Integer
}

class Persona{
    dni: String
    nombre: String
    apellidos: String
    edad: Integer
    email: String
}

class Alumno {
    métodoAcceso: MétodoAcceso
}

class Profesor {
    categoría: CategoríaProfesor
}

class Nota {
    valor: Double
    convocatoria: Convocatoria
    esMH: Boolean
}

class Carga {
    créditos: Double
}

Persona <|-- Alumno
Persona <|-- Profesor: {Completa, Disjunta}
Profesor "*" -- "*" Grupo : imparteDocencia >
(Profesor,Grupo) .. Carga : cargaDocente 
Grado "1" -- "*" Asignatura : impartidaEn <
Asignatura  *-- "1..*" Grupo 
Alumno "*" -- "*" Grupo : perteneceA
Alumno "1" -- "*" Nota : obtiene
Grupo "1" -- "*" Nota : obtenidaEn <
Alumno "*" -- "*" Asignatura : seMatricula

'Triggers
note as RestriccionesComplejas
  **Restricciones complejas:**
  - RN01: Un alumno no puede tener más de una
    nota para la misma asignatura, convocatoria 
    y año académico.
  - RN02: Un alumno no puede tener notas 
    en grupos a los que no pertenece.
  - RN05: Una nota no puede alterarse en más 
    de 4 puntos (aumentada o disminuida)
  - RN03: Un grupo no puede tener más de 2 profesores
  - RN04: Un alumno no puede pertenecer a más de 
    un grupo de teoría y a más de un grupo de 
    laboratorio de cada asignatura
  - RN05: De cada asignatura, no puede haber 
    más de un grupo de teoría y dos de laboratorio.
  - RN06: Un alumno sólo puede pertenecer a grupos
    de las asignaturas en las que está matriculado.
end note

'Checkers
note as RestriccionesSimples
  **Restricciones simples:**
  - RN06: Para obtener MH el valor de la nota 
    debe ser superior o igual a 9.
  - RN07: Todos los atributos son obligatorios.
  - RN08: Un alumno no puede acceder por 
    selectividad teniendo menos de 16 años.
  - RN09: Los créditos de una asignatura pueden
    ser 6 o 12.
  - RN10: El valor de la nota está comprendido 
    entre 0 y 10.
  - RN11: La edad de las personas es mayor o 
    igual a 16 años y menor o igual a 70 años.
  - RN12: Los años de un grado están entre 3 y 6.
  - RN13: El dni está formado por 8 números y 
    una letra.
  - RN14: El año académico es un valor 
    comprendido entre 2000 y 2100.
  - RN15: El curso de una asignatura está 
    comprendido entre 1 y 6.
end note

@enduml

@startuml grados-enum

hide circle
hide empty members

enum TipoAsignatura <<Enumerado>>{
    FormaciónBasicá
    Obligatoria
    Optativa
}

enum TipoActividad <<Enumerado>>{
    Teoría
    Laboratorio
}

enum Convocatoria <<Enumerado>>{
    Primera
    Segunda
    Tercera
    Extraordinaria
}

enum MétodoAcceso <<Enumerado>>{
    Selectividad
    Ciclo
    Mayor
    Titulado
    Extranjero
}

enum CategoríaProfesor <<Enumerado>>{
    Ayudante
    AyudanteDoctor
    Titular
    Catedrático 
}

@enduml
