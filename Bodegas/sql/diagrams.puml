@startuml bodegas-er

    hide circle
    hide empty members

    Class winery {
        winery_name: String
        origin_designation: String
    }

    Class wine {
        wine_name: String
        alcohol_percent: Decimal
    }

    Class young_wine {
        barrel_months: Integer
        bottle_months: Integer
    }

    Class aged_wine {
        barrel_months: Integer
        bottle_months: Integer
    }

    Class grape {
        grape_name: String
    }

    Class harvest {
        harvest_year: Year
        quality: String
    }

    winery "1" -- "1..*" wine : produce >
    wine <|-- young_wine : "{disjunta, completa}"
    wine <|-- aged_wine
    aged_wine *-- "0..*" harvest
    wine "0..*" -- "1..*" grape : elaborado_con >

    ' Restricciones de negocio
    Note as rn
        RN01: Nombres de bodegas, vinos y uvas son únicos
        RN02: Límites de meses para vinos jóvenes y de crianza
        RN03: Graduación alcohólica entre 10 y 15
        RN04: Una cosecha por vino y año
    End Note

@enduml
