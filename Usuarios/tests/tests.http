
### Silence is a DEAL research team project, more info about us in https://deal.us.es
@BASE = http://127.0.0.1:8080/api/v1

### Auxiliary query

### Positive test
### Test 00: Get all existing users
# @name users
GET {{BASE}}/users

### Test 01: Get one existing user by its id
@firstUserId = {{users.response.body.0.user_id}}
GET {{BASE}}/users/{{firstUserId}}
Content-Type: application/json

### Test 02: Try get one existing users by its nonexistent id.
### negative test 
GET {{BASE}}/users/999999999
Content-Type: application/json 


### Test 03: Add a new users successfully
# @name newUser
POST {{BASE}}/users 
Content-Type: application/json 

{
	"full_name": "Test User",
	"gender": "MASCULINO",
	"age": "19",
	"email": "test3@mail.com"
} 

### Test 04: Modify an existing users 
### Positive test 
@existingUserId = {{newUser.response.body.user_id}}
@existingFullName = {{newUser.response.body.full_name}}
@existingEmail = {{newUser.response.body.email}}
PUT {{BASE}}/users/{{existingUserId}}
Content-Type: application/json

{ 
	"full_name": "{{existingFullName}} Updated",
	"gender": "FEMENINO",
	"email": "{{existingEmail}}",
	"age": 78
}

### Test 05: Delete the new user
@newUserId = {{newUser.response.body.user_id}}
DELETE {{BASE}}/users/{{newUserId}}

